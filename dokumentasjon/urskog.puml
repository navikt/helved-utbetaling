@startuml
!theme black-knight
queue "helved.dryrun-aap.v1" <<topic>> as helved_dryrun_aap_v1
queue "helved.status.v1" <<topic>> as helved_status_v1
queue "helved.dryrun-dp.v1" <<topic>> as helved_dryrun_dp_v1
queue "helved.dryrun-ts.v1" <<topic>> as helved_dryrun_ts_v1
queue "helved.dryrun-tp.v1" <<topic>> as helved_dryrun_tp_v1
queue "helved.simuleringer.v1" <<topic>> as helved_simuleringer_v1
queue "helved.oppdrag.v1" <<topic>> as helved_oppdrag_v1
queue "helved.kvittering.v1" <<topic>> as helved_kvittering_v1
queue "fk-uid-store-materialize-repartition" <<topic>> as fk_uid_store_materialize_repartition
queue "helved.avstemming.v1" <<topic>> as helved_avstemming_v1
package "Sub-topology: 0" {
	agent "consume-helved.simuleringer.v1" <<Source>> as consume_helved_simuleringer_v1
	agent "KSTREAM-PROCESSVALUES-0000000001" <<Processor>> as KSTREAM_PROCESSVALUES_0000000001
	agent "KSTREAM-FILTER-0000000002" <<Processor>> as KSTREAM_FILTER_0000000002
	agent "KSTREAM-MAPVALUES-0000000003" <<Processor>> as KSTREAM_MAPVALUES_0000000003
	agent "KSTREAM-BRANCH-0000000004" <<Processor>> as KSTREAM_BRANCH_0000000004
	agent "KSTREAM-BRANCH-00000000041" <<Processor>> as KSTREAM_BRANCH_00000000041
	agent "KSTREAM-MAPVALUES-0000000006" <<Processor>> as KSTREAM_MAPVALUES_0000000006
	agent "KSTREAM-BRANCH-0000000007" <<Processor>> as KSTREAM_BRANCH_0000000007
	agent "KSTREAM-BRANCH-00000000071" <<Processor>> as KSTREAM_BRANCH_00000000071
	agent "KSTREAM-BRANCH-00000000072" <<Processor>> as KSTREAM_BRANCH_00000000072
	agent "KSTREAM-BRANCH-00000000073" <<Processor>> as KSTREAM_BRANCH_00000000073
	agent "KSTREAM-BRANCH-00000000074" <<Processor>> as KSTREAM_BRANCH_00000000074
	agent "KSTREAM-MAPVALUES-0000000009" <<Processor>> as KSTREAM_MAPVALUES_0000000009
	agent "KSTREAM-MAPVALUES-0000000021" <<Processor>> as KSTREAM_MAPVALUES_0000000021
	agent "KSTREAM-MAPVALUES-0000000033" <<Processor>> as KSTREAM_MAPVALUES_0000000033
	agent "KSTREAM-MAPVALUES-0000000045" <<Processor>> as KSTREAM_MAPVALUES_0000000045
	agent "KSTREAM-MAPVALUES-0000000010" <<Processor>> as KSTREAM_MAPVALUES_0000000010
	agent "KSTREAM-MAPVALUES-0000000022" <<Processor>> as KSTREAM_MAPVALUES_0000000022
	agent "KSTREAM-MAPVALUES-0000000034" <<Processor>> as KSTREAM_MAPVALUES_0000000034
	agent "KSTREAM-MAPVALUES-0000000046" <<Processor>> as KSTREAM_MAPVALUES_0000000046
	agent "KSTREAM-BRANCH-0000000011" <<Processor>> as KSTREAM_BRANCH_0000000011
	agent "KSTREAM-BRANCH-0000000023" <<Processor>> as KSTREAM_BRANCH_0000000023
	agent "KSTREAM-BRANCH-0000000035" <<Processor>> as KSTREAM_BRANCH_0000000035
	agent "KSTREAM-BRANCH-0000000047" <<Processor>> as KSTREAM_BRANCH_0000000047
	agent "KSTREAM-BRANCH-00000000040" <<Processor>> as KSTREAM_BRANCH_00000000040
	agent "KSTREAM-BRANCH-00000000110" <<Processor>> as KSTREAM_BRANCH_00000000110
	agent "KSTREAM-BRANCH-00000000111" <<Processor>> as KSTREAM_BRANCH_00000000111
	agent "KSTREAM-BRANCH-00000000230" <<Processor>> as KSTREAM_BRANCH_00000000230
	agent "KSTREAM-BRANCH-00000000231" <<Processor>> as KSTREAM_BRANCH_00000000231
	agent "KSTREAM-BRANCH-00000000350" <<Processor>> as KSTREAM_BRANCH_00000000350
	agent "KSTREAM-BRANCH-00000000351" <<Processor>> as KSTREAM_BRANCH_00000000351
	agent "KSTREAM-BRANCH-00000000470" <<Processor>> as KSTREAM_BRANCH_00000000470
	agent "KSTREAM-BRANCH-00000000471" <<Processor>> as KSTREAM_BRANCH_00000000471
	agent "KSTREAM-MAPVALUES-0000000013" <<Processor>> as KSTREAM_MAPVALUES_0000000013
	agent "KSTREAM-MAPVALUES-0000000017" <<Processor>> as KSTREAM_MAPVALUES_0000000017
	agent "KSTREAM-MAPVALUES-0000000025" <<Processor>> as KSTREAM_MAPVALUES_0000000025
	agent "KSTREAM-MAPVALUES-0000000029" <<Processor>> as KSTREAM_MAPVALUES_0000000029
	agent "KSTREAM-MAPVALUES-0000000037" <<Processor>> as KSTREAM_MAPVALUES_0000000037
	agent "KSTREAM-MAPVALUES-0000000041" <<Processor>> as KSTREAM_MAPVALUES_0000000041
	agent "KSTREAM-MAPVALUES-0000000049" <<Processor>> as KSTREAM_MAPVALUES_0000000049
	agent "KSTREAM-MAPVALUES-0000000053" <<Processor>> as KSTREAM_MAPVALUES_0000000053
	agent "KSTREAM-MAPVALUES-0000000057" <<Processor>> as KSTREAM_MAPVALUES_0000000057
	agent "KSTREAM-PROCESSVALUES-0000000014" <<Processor>> as KSTREAM_PROCESSVALUES_0000000014
	agent "KSTREAM-PROCESSVALUES-0000000018" <<Processor>> as KSTREAM_PROCESSVALUES_0000000018
	agent "KSTREAM-PROCESSVALUES-0000000026" <<Processor>> as KSTREAM_PROCESSVALUES_0000000026
	agent "KSTREAM-PROCESSVALUES-0000000030" <<Processor>> as KSTREAM_PROCESSVALUES_0000000030
	agent "KSTREAM-PROCESSVALUES-0000000038" <<Processor>> as KSTREAM_PROCESSVALUES_0000000038
	agent "KSTREAM-PROCESSVALUES-0000000042" <<Processor>> as KSTREAM_PROCESSVALUES_0000000042
	agent "KSTREAM-PROCESSVALUES-0000000050" <<Processor>> as KSTREAM_PROCESSVALUES_0000000050
	agent "KSTREAM-PROCESSVALUES-0000000054" <<Processor>> as KSTREAM_PROCESSVALUES_0000000054
	agent "KSTREAM-PROCESSVALUES-0000000058" <<Processor>> as KSTREAM_PROCESSVALUES_0000000058
	agent "KSTREAM-SINK-0000000015" <<Sink>> as KSTREAM_SINK_0000000015
	agent "KSTREAM-SINK-0000000019" <<Sink>> as KSTREAM_SINK_0000000019
	agent "KSTREAM-SINK-0000000027" <<Sink>> as KSTREAM_SINK_0000000027
	agent "KSTREAM-SINK-0000000031" <<Sink>> as KSTREAM_SINK_0000000031
	agent "KSTREAM-SINK-0000000039" <<Sink>> as KSTREAM_SINK_0000000039
	agent "KSTREAM-SINK-0000000043" <<Sink>> as KSTREAM_SINK_0000000043
	agent "KSTREAM-SINK-0000000051" <<Sink>> as KSTREAM_SINK_0000000051
	agent "KSTREAM-SINK-0000000055" <<Sink>> as KSTREAM_SINK_0000000055
	agent "KSTREAM-SINK-0000000059" <<Sink>> as KSTREAM_SINK_0000000059
	helved_simuleringer_v1 --> consume_helved_simuleringer_v1
	helved_dryrun_aap_v1 <-- KSTREAM_SINK_0000000015
	helved_status_v1 <-- KSTREAM_SINK_0000000019
	helved_dryrun_dp_v1 <-- KSTREAM_SINK_0000000027
	helved_status_v1 <-- KSTREAM_SINK_0000000031
	helved_dryrun_ts_v1 <-- KSTREAM_SINK_0000000039
	helved_status_v1 <-- KSTREAM_SINK_0000000043
	helved_dryrun_tp_v1 <-- KSTREAM_SINK_0000000051
	helved_status_v1 <-- KSTREAM_SINK_0000000055
	helved_status_v1 <-- KSTREAM_SINK_0000000059
	consume_helved_simuleringer_v1 --> KSTREAM_PROCESSVALUES_0000000001
	KSTREAM_PROCESSVALUES_0000000001 --> KSTREAM_FILTER_0000000002
	KSTREAM_FILTER_0000000002 --> KSTREAM_MAPVALUES_0000000003
	KSTREAM_MAPVALUES_0000000003 --> KSTREAM_BRANCH_0000000004
	KSTREAM_BRANCH_0000000004 --> KSTREAM_BRANCH_00000000041
	KSTREAM_BRANCH_0000000004 --> KSTREAM_BRANCH_00000000040
	KSTREAM_BRANCH_00000000041 --> KSTREAM_MAPVALUES_0000000006
	KSTREAM_MAPVALUES_0000000006 --> KSTREAM_BRANCH_0000000007
	KSTREAM_BRANCH_0000000007 --> KSTREAM_BRANCH_00000000072
	KSTREAM_BRANCH_0000000007 --> KSTREAM_BRANCH_00000000073
	KSTREAM_BRANCH_0000000007 --> KSTREAM_BRANCH_00000000071
	KSTREAM_BRANCH_0000000007 --> KSTREAM_BRANCH_00000000074
	KSTREAM_BRANCH_00000000071 --> KSTREAM_MAPVALUES_0000000009
	KSTREAM_BRANCH_00000000072 --> KSTREAM_MAPVALUES_0000000021
	KSTREAM_BRANCH_00000000073 --> KSTREAM_MAPVALUES_0000000033
	KSTREAM_BRANCH_00000000074 --> KSTREAM_MAPVALUES_0000000045
	KSTREAM_MAPVALUES_0000000009 --> KSTREAM_MAPVALUES_0000000010
	KSTREAM_MAPVALUES_0000000021 --> KSTREAM_MAPVALUES_0000000022
	KSTREAM_MAPVALUES_0000000033 --> KSTREAM_MAPVALUES_0000000034
	KSTREAM_MAPVALUES_0000000045 --> KSTREAM_MAPVALUES_0000000046
	KSTREAM_MAPVALUES_0000000010 --> KSTREAM_BRANCH_0000000011
	KSTREAM_MAPVALUES_0000000022 --> KSTREAM_BRANCH_0000000023
	KSTREAM_MAPVALUES_0000000034 --> KSTREAM_BRANCH_0000000035
	KSTREAM_MAPVALUES_0000000046 --> KSTREAM_BRANCH_0000000047
	KSTREAM_BRANCH_0000000011 --> KSTREAM_BRANCH_00000000110
	KSTREAM_BRANCH_0000000011 --> KSTREAM_BRANCH_00000000111
	KSTREAM_BRANCH_0000000023 --> KSTREAM_BRANCH_00000000230
	KSTREAM_BRANCH_0000000023 --> KSTREAM_BRANCH_00000000231
	KSTREAM_BRANCH_0000000035 --> KSTREAM_BRANCH_00000000351
	KSTREAM_BRANCH_0000000035 --> KSTREAM_BRANCH_00000000350
	KSTREAM_BRANCH_0000000047 --> KSTREAM_BRANCH_00000000470
	KSTREAM_BRANCH_0000000047 --> KSTREAM_BRANCH_00000000471
	KSTREAM_BRANCH_00000000040 --> KSTREAM_MAPVALUES_0000000057
	KSTREAM_BRANCH_00000000110 --> KSTREAM_MAPVALUES_0000000017
	KSTREAM_BRANCH_00000000111 --> KSTREAM_MAPVALUES_0000000013
	KSTREAM_BRANCH_00000000230 --> KSTREAM_MAPVALUES_0000000029
	KSTREAM_BRANCH_00000000231 --> KSTREAM_MAPVALUES_0000000025
	KSTREAM_BRANCH_00000000350 --> KSTREAM_MAPVALUES_0000000041
	KSTREAM_BRANCH_00000000351 --> KSTREAM_MAPVALUES_0000000037
	KSTREAM_BRANCH_00000000470 --> KSTREAM_MAPVALUES_0000000053
	KSTREAM_BRANCH_00000000471 --> KSTREAM_MAPVALUES_0000000049
	KSTREAM_MAPVALUES_0000000013 --> KSTREAM_PROCESSVALUES_0000000014
	KSTREAM_MAPVALUES_0000000017 --> KSTREAM_PROCESSVALUES_0000000018
	KSTREAM_MAPVALUES_0000000025 --> KSTREAM_PROCESSVALUES_0000000026
	KSTREAM_MAPVALUES_0000000029 --> KSTREAM_PROCESSVALUES_0000000030
	KSTREAM_MAPVALUES_0000000037 --> KSTREAM_PROCESSVALUES_0000000038
	KSTREAM_MAPVALUES_0000000041 --> KSTREAM_PROCESSVALUES_0000000042
	KSTREAM_MAPVALUES_0000000049 --> KSTREAM_PROCESSVALUES_0000000050
	KSTREAM_MAPVALUES_0000000053 --> KSTREAM_PROCESSVALUES_0000000054
	KSTREAM_MAPVALUES_0000000057 --> KSTREAM_PROCESSVALUES_0000000058
	KSTREAM_PROCESSVALUES_0000000014 --> KSTREAM_SINK_0000000015
	KSTREAM_PROCESSVALUES_0000000018 --> KSTREAM_SINK_0000000019
	KSTREAM_PROCESSVALUES_0000000026 --> KSTREAM_SINK_0000000027
	KSTREAM_PROCESSVALUES_0000000030 --> KSTREAM_SINK_0000000031
	KSTREAM_PROCESSVALUES_0000000038 --> KSTREAM_SINK_0000000039
	KSTREAM_PROCESSVALUES_0000000042 --> KSTREAM_SINK_0000000043
	KSTREAM_PROCESSVALUES_0000000050 --> KSTREAM_SINK_0000000051
	KSTREAM_PROCESSVALUES_0000000054 --> KSTREAM_SINK_0000000055
	KSTREAM_PROCESSVALUES_0000000058 --> KSTREAM_SINK_0000000059
}
package "Sub-topology: 1" {
	database "fk-uid-store" <<State Store>> as fk_uid_store
	database "helved.kvittering.v1-state-store" <<State Store>> as helved_kvittering_v1_state_store
	agent "consume-helved.kvittering.v1" <<Source>> as consume_helved_kvittering_v1
	agent "KSTREAM-PROCESSVALUES-0000000061" <<Processor>> as KSTREAM_PROCESSVALUES_0000000061
	agent "KSTREAM-PROCESSVALUES-0000000062" <<Processor>> as KSTREAM_PROCESSVALUES_0000000062
	agent "fk-uid-store-materialize-repartition-source" <<Source>> as fk_uid_store_materialize_repartition_source
	agent "fk-uid-store-materialize" <<Processor>> as fk_uid_store_materialize
	agent "ktable-helved.kvittering.v1" <<Processor>> as ktable_helved_kvittering_v1
	agent "KTABLE-JOINOTHER-0000000075" <<Processor>> as KTABLE_JOINOTHER_0000000075
	agent "KTABLE-JOINTHIS-0000000074" <<Processor>> as KTABLE_JOINTHIS_0000000074
	agent "KTABLE-MERGE-0000000073" <<Processor>> as KTABLE_MERGE_0000000073
	agent "KTABLE-TOSTREAM-0000000076" <<Processor>> as KTABLE_TOSTREAM_0000000076
	agent "KSTREAM-FILTER-0000000077" <<Processor>> as KSTREAM_FILTER_0000000077
	agent "KSTREAM-MAP-0000000078" <<Processor>> as KSTREAM_MAP_0000000078
	agent "KSTREAM-PROCESSVALUES-0000000079" <<Processor>> as KSTREAM_PROCESSVALUES_0000000079
	agent "KSTREAM-SINK-0000000080" <<Sink>> as KSTREAM_SINK_0000000080
	helved_kvittering_v1 --> consume_helved_kvittering_v1
	fk_uid_store_materialize_repartition --> fk_uid_store_materialize_repartition_source
	fk_uid_store -- fk_uid_store_materialize
	helved_kvittering_v1_state_store -- ktable_helved_kvittering_v1
	fk_uid_store -- KTABLE_JOINOTHER_0000000075
	helved_kvittering_v1_state_store -- KTABLE_JOINTHIS_0000000074
	helved_oppdrag_v1 <-- KSTREAM_SINK_0000000080
	consume_helved_kvittering_v1 --> KSTREAM_PROCESSVALUES_0000000061
	KSTREAM_PROCESSVALUES_0000000061 --> KSTREAM_PROCESSVALUES_0000000062
	KSTREAM_PROCESSVALUES_0000000062 --> ktable_helved_kvittering_v1
	fk_uid_store_materialize_repartition_source --> fk_uid_store_materialize
	fk_uid_store_materialize --> KTABLE_JOINTHIS_0000000074
	ktable_helved_kvittering_v1 --> KTABLE_JOINOTHER_0000000075
	KTABLE_JOINOTHER_0000000075 --> KTABLE_MERGE_0000000073
	KTABLE_JOINTHIS_0000000074 --> KTABLE_MERGE_0000000073
	KTABLE_MERGE_0000000073 --> KTABLE_TOSTREAM_0000000076
	KTABLE_TOSTREAM_0000000076 --> KSTREAM_FILTER_0000000077
	KSTREAM_FILTER_0000000077 --> KSTREAM_MAP_0000000078
	KSTREAM_MAP_0000000078 --> KSTREAM_PROCESSVALUES_0000000079
	KSTREAM_PROCESSVALUES_0000000079 --> KSTREAM_SINK_0000000080
}
package "Sub-topology: 2" {
	database "dedup-oppdrag-mq" <<State Store>> as dedup_oppdrag_mq
	agent "consume-helved.oppdrag.v1" <<Source>> as consume_helved_oppdrag_v1
	agent "KSTREAM-PROCESSVALUES-0000000065" <<Processor>> as KSTREAM_PROCESSVALUES_0000000065
	agent "KSTREAM-FILTER-0000000066" <<Processor>> as KSTREAM_FILTER_0000000066
	agent "KSTREAM-BRANCH-0000000081" <<Processor>> as KSTREAM_BRANCH_0000000081
	agent "KSTREAM-BRANCH-00000000811" <<Processor>> as KSTREAM_BRANCH_00000000811
	agent "KSTREAM-BRANCH-00000000812" <<Processor>> as KSTREAM_BRANCH_00000000812
	agent "KSTREAM-FILTER-0000000067" <<Processor>> as KSTREAM_FILTER_0000000067
	agent "KSTREAM-FILTER-0000000083" <<Processor>> as KSTREAM_FILTER_0000000083
	agent "KSTREAM-FILTER-0000000089" <<Processor>> as KSTREAM_FILTER_0000000089
	agent "KSTREAM-MAP-0000000068" <<Processor>> as KSTREAM_MAP_0000000068
	agent "KSTREAM-PROCESSOR-0000000084" <<Processor>> as KSTREAM_PROCESSOR_0000000084
	agent "KSTREAM-MAPVALUES-0000000085" <<Processor>> as KSTREAM_MAPVALUES_0000000085
	agent "KSTREAM-MAPVALUES-0000000090" <<Processor>> as KSTREAM_MAPVALUES_0000000090
	agent "fk-uid-store-materialize-log" <<Processor>> as fk_uid_store_materialize_log
	agent "KSTREAM-PROCESSVALUES-0000000086" <<Processor>> as KSTREAM_PROCESSVALUES_0000000086
	agent "KSTREAM-PROCESSVALUES-0000000091" <<Processor>> as KSTREAM_PROCESSVALUES_0000000091
	agent "fk-uid-store-materialize-repartition-filter" <<Processor>> as fk_uid_store_materialize_repartition_filter
	agent "KSTREAM-SINK-0000000087" <<Sink>> as KSTREAM_SINK_0000000087
	agent "KSTREAM-SINK-0000000092" <<Sink>> as KSTREAM_SINK_0000000092
	agent "fk-uid-store-materialize-repartition-sink" <<Sink>> as fk_uid_store_materialize_repartition_sink
	helved_oppdrag_v1 --> consume_helved_oppdrag_v1
	dedup_oppdrag_mq -- KSTREAM_PROCESSOR_0000000084
	helved_status_v1 <-- KSTREAM_SINK_0000000087
	helved_status_v1 <-- KSTREAM_SINK_0000000092
	fk_uid_store_materialize_repartition <-- fk_uid_store_materialize_repartition_sink
	consume_helved_oppdrag_v1 --> KSTREAM_PROCESSVALUES_0000000065
	KSTREAM_PROCESSVALUES_0000000065 --> KSTREAM_FILTER_0000000066
	KSTREAM_FILTER_0000000066 --> KSTREAM_BRANCH_0000000081
	KSTREAM_FILTER_0000000066 --> KSTREAM_FILTER_0000000067
	KSTREAM_BRANCH_0000000081 --> KSTREAM_BRANCH_00000000811
	KSTREAM_BRANCH_0000000081 --> KSTREAM_BRANCH_00000000812
	KSTREAM_BRANCH_00000000811 --> KSTREAM_FILTER_0000000083
	KSTREAM_BRANCH_00000000812 --> KSTREAM_FILTER_0000000089
	KSTREAM_FILTER_0000000067 --> KSTREAM_MAP_0000000068
	KSTREAM_FILTER_0000000083 --> KSTREAM_PROCESSOR_0000000084
	KSTREAM_FILTER_0000000089 --> KSTREAM_MAPVALUES_0000000090
	KSTREAM_MAP_0000000068 --> fk_uid_store_materialize_log
	KSTREAM_PROCESSOR_0000000084 --> KSTREAM_MAPVALUES_0000000085
	KSTREAM_MAPVALUES_0000000085 --> KSTREAM_PROCESSVALUES_0000000086
	KSTREAM_MAPVALUES_0000000090 --> KSTREAM_PROCESSVALUES_0000000091
	fk_uid_store_materialize_log --> fk_uid_store_materialize_repartition_filter
	KSTREAM_PROCESSVALUES_0000000086 --> KSTREAM_SINK_0000000087
	KSTREAM_PROCESSVALUES_0000000091 --> KSTREAM_SINK_0000000092
	fk_uid_store_materialize_repartition_filter --> fk_uid_store_materialize_repartition_sink
}
package "Sub-topology: 3" {
	agent "consume-helved.avstemming.v1" <<Source>> as consume_helved_avstemming_v1
	agent "KSTREAM-PROCESSVALUES-0000000094" <<Processor>> as KSTREAM_PROCESSVALUES_0000000094
	agent "KSTREAM-FILTER-0000000095" <<Processor>> as KSTREAM_FILTER_0000000095
	agent "KSTREAM-FOREACH-0000000096" <<Processor>> as KSTREAM_FOREACH_0000000096
	helved_avstemming_v1 --> consume_helved_avstemming_v1
	consume_helved_avstemming_v1 --> KSTREAM_PROCESSVALUES_0000000094
	KSTREAM_PROCESSVALUES_0000000094 --> KSTREAM_FILTER_0000000095
	KSTREAM_FILTER_0000000095 --> KSTREAM_FOREACH_0000000096
}
@enduml